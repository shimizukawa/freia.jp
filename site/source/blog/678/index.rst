:date: 2009-10-24 14:29:33
:categories: ['python', 'Windows']
:body type: text/x-rst

===============================================================================================
2009/10/24 ckw のテキスト貼り付けをPythonのInteractiveShellでも正しく動作するように改造してみた
===============================================================================================

*Category: 'python', 'Windows'*

ckw + nyacus はとても便利なんですが、ckw上でpythonのインタラクティブシェルを使用していると、右クリックでのテキスト貼り付け時に `\\r\\n` をEnterキー押下と同等では認識せずに文字コードとして\\rと\\nを貼り付けてしまいます。

例えば以下を貼り付けるとPythonのインタラクティブシェルは１行として受け取ってしまい、変なことになります。::

  def foo():
    return 'bar'

シェル(cmd.exeやnyacus)は `\\r\\n` を改行として処理してくれるのでPythonの問題のような気はしますが、このままだと不便なので、 `\\r` を受け取ったら破棄して、 `\\n` を受け取ったら ``VK_RETURN`` として処理するように改造してみました。

改造したexeを以下に置いておきます。

* http://svn.freia.jp/open/ckw/branches/ckw-0.8.10-mod2-smzkw1/bin/


.. :extend type: text/html
.. :extend:

