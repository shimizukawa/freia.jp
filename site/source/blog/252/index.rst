:date: 2005-10-04 22:15:00
:tags: Windows

===============================================
2005/10/04 日本語キーボードから英語キーボードへ
===============================================

自分は英語キーボード好き（スペースバーが長いあたりが）なのですが、最初は日本語キーボードなんだけど途中から英語キーボードを使う、という事がよくあります。

で、こういうときに起きるのが、 **キーボードの刻印と実際の入力が異なる** という現象。よく目にする対応策は大体が

- ドライバを日本語(106)キーボードから英語(101)キーボード用に変更する

という感じ。しかも自分の場合はこれじゃあ治らないことが多い。しょうがないので、レジストリを書き換えたり日本語入力をATOK/MS-IME/EN等と変えてみたりと色々といじってみたので、とりあえず分かった事をまとめてみる。



.. :extend type: text/x-rst
.. :extend:

- 今回の前提

  - USBキーボードを使っている
  - WindowsXPセットアップ時に「106/109キーボード」を選択した
  - 英語キーボードが日本語レイアウトで認識されている
  - ATOKを使っている

- 現象

  - MS-IMEは英語レイアウトを適用してくれる
  - ATOK17は日本語レイアウトを適用してくれやがる
  - 入力言語設定でENを使うと英語レイアウトになる(日本語入力不可)

つまり、ATOKが悪い‥‥の？どっちかっていうと、OSセットアップ時に106選んじゃったのが悪いんだと思いたい。でも変更方法が分からない。

とここで、とみた先生からそのものズバリな情報が寄せられた。

- `はてな windowsの入力が変です。`__

.. __: http://www.hatena.ne.jp/1120485462

ポイントだけ抜き出すと、

.. highlights::

  ``HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\i8042prt\Parameters`` の ``LayerDriver JPN`` の値を106とか101とかに適切に書き換える。

という単純明快な回答になる。近くに似たような値のキーがあったので、 ``OverrideKeyboardIdentifier`` も書き換えて再起動したところ、見事、英語キーボードが英語レイアウトで使えました。

しかし、コレ知らないと `OS入れ直すしかない`__ というのはどうにかならないものか。コンパネのキーボードの所で設定できるようにするのは簡単だと思うんだけどなあ‥‥＞Microsoft様。

.. __: http://k-tai.impress.co.jp/cda/article/stapa/18258.html


2011/10/11追記
==========================

Microsoftのサイトにいつのまにか詳細な解説が載ってました。相変わらずレジストリ変更が必要だけど、情報があるのはいいね！ MS +1

`コンピューターに USB キーボードを接続したときに Windows Vista で正しいキーボード レイアウトが使用されないことがある`__
(文書番号: 927824 - 最終更新日: 2009年11月13日)

.. __: http://support.microsoft.com/kb/927824/ja


.. :comments:
.. :comment id: 2007-02-23.1623105743
.. :title: Re:日本語キーボードから英語キーボードへ
.. :author: ふー
.. :date: 2007-02-23 23:49:23
.. :email: spn859m9@aria.ocn.ne.jp
.. :url: 
.. :body:
.. 大変助かりました。英語版のＷｉｎＸＰを入れたらキーボードの刻印と実際の入力が異なり困りましたが、HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\i8042prt\Parameters の LayerDriver JPN の値を101にするだけで見事になおりました。
.. 清水へこころより感謝いたします。
.. 
.. :comments:
.. :comment id: 2010-07-15.8216359478
.. :title: Re:日本語キーボードから英語キーボードへ
.. :author: TAZO
.. :date: 2010-07-15 14:13:42
.. :email: 
.. :url: 
.. :body:
.. 別の日本語キーボードをさしたりUSBやらPS2やら切り替えていた長年の問題が解決しました。
.. 101キーボードを常用している身としては大変助かりました。感謝です。
.. 
.. :trackbacks:
.. :trackback id: 2006-04-30.4959006564
.. :title: 日本語キーボードから英語キーボードへ — 清水川Web
.. :blog name: 白い狼の皮を被った黒い羊
.. :url: http://herd.txt-nifty.com/blacksheep/2006/04/_web_a00c.html
.. :date: 2006-04-30 16:34:56
.. :body:
.. 莉･蜑阪％縺薙〒繧よ嶌縺※縺◆縲∵律譛ｬ隱槭Ξ繧､繧｢繧ｦ繝医Keyboard縺九ｉ縲∬恭隱槭Ξ繧､繧｢繧ｦ繝医↓
.. 


.. image:: 20070223_securemailhost.*
   :width: 33%

