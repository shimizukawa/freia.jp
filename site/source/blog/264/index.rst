:date: 2005-10-31 01:53:39
:categories: ['IT-PC']
:body type: text/x-rst

===========================
2005/10/31 サーバートラブル
===========================

*Category: 'IT-PC'*

サーバーがトラブったため、土日はほとんど落としてメンテしていました。トラブル内容は以下のように多岐にわたっています。日頃から放置しないでちゃんと考えないとだめって事ですね...。

- RAID5のDISK１台不調(デグレはしてなかったが) → 交換
- ZODBデータ破損 → 復旧できずバックアップから戻す
- ZODB容量圧迫 37GB(!) → 450MBにスリム化

COREBlogRefererPluginのインスタンス(1個)を削除したら37GBが450MBになりました。本当？って感じですが今後調査の課題を残しつつ、リファラデータをDBに引っ越し中です。

個々の作業はネタになりそうなので、追々書いていこうかと思います。



.. :extend type: text/plain
.. :extend:



.. :comments:
.. :comment id: 2006-08-10.9020699945
.. :title: Re:サーバートラブル
.. :author: Anonymous User
.. :date: 2006-08-10 13:41:43
.. :email: 
.. :url: 
.. :body:
.. 私のは Data.fs が 2GB を越えると、重たくて正常に動作しません；； なんでだろう。
.. zope も 2.8系なので、そこまで古いバージョンでもないと思うのですが。。。
.. 
.. 清水川さんは何か Pack 以外に Data.fs に関する特別なカスタマイズはなされているんですか？
.. 
.. 
.. :comments:
.. :comment id: 2006-08-11.0920934236
.. :title: Re:サーバートラブル
.. :author: 清水川
.. :date: 2006-08-11 01:24:53
.. :email: 
.. :url: 
.. :body:
.. ＞ 清水川さんは何か Pack 以外に Data.fs に関する特別なカスタマイズはなされているんですか？
.. 
.. 特にはしていません。最近は毎日Packして再起動しているためか、安定しています……ってこれじゃ参考にならないか。
.. 
.. 
.. :comments:
.. :comment id: 2006-08-11.8218104254
.. :title: Re:サーバートラブル
.. :author: Anonymous User
.. :date: 2006-08-11 13:17:02
.. :email: 
.. :url: 
.. :body:
.. いえいえ。
.. ご丁寧にご回答ありがとうございました。
.. 
