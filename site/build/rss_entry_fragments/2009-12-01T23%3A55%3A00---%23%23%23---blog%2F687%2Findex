(dp0
S'pubdate'
p1
cdatetime
datetime
p2
(S'\x07\xd9\x0c\x01\x177\x00\x00\x00\x00'
p3
tp4
Rp5
sS'link'
p6
Vhttp://www.freia.jp/taka/blog/687/index.html
p7
sS'description'
p8
V<div id=coreblog2plone3-portlet class=section>\u000a<h1>2009/12/01 COREBlog2\u3092Plone3\u3067\u52d5\u304b\u3059\u305f\u3081\u306e\u4fee\u6b63: portlet\u306e\u30ab\u30ec\u30f3\u30c0\u30fc<a class=headerlink href=http://www.freia.jp/taka/blog/687/index.html#coreblog2plone3-portlet title=\u3053\u306e\u30d8\u30c3\u30c9\u30e9\u30a4\u30f3\u3078\u306e\u30d1\u30fc\u30de\u30ea\u30f3\u30af>¶</a></h1>\u000a<p><em>Category: 'Plone'</em></p>\u000a<p><a class="reference external" href=http://www.freia.jp/taka/blog/686>Plone-3.3.2 \u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3057\u3066\u516c\u958b</a> \u3057\u305f\u3068\u304d\u306e\u8ab2\u984c\u3068\u3057\u3066\u3001 "COREBlog2\u306e\u30ab\u30ec\u30f3\u30c0\u30fc\u8868\u793a\u304c\u6708\u5909\u66f4\u51fa\u6765\u306a\u3044" \u3068\u3044\u3046\u3082\u306e\u304c\u3042\u308a\u307e\u3057\u305f\u3002\u3053\u308c\u3092\u4fee\u6b63\u3059\u308b\u65b9\u6cd5\u304c\u5206\u304b\u308a\u307e\u3057\u305f\u3002</p>\u000a<table frame=void class="docutils field-list" rules=none>\u000a<col class=field-name>\u000a<col class=field-body>\u000a<tbody valign=top>\u000a<tr class="field-odd field"><th class=field-name>\u5bfe\u8c61:<td class=field-body><a class="reference external" href=http://coreblog.org/junk_l/COREBlog2_nightly.tgz>COREBlog2_nightly.tgz</a> (2008/10\u6642\u70b9)</td>\u000a</tr>\u000a<tr class="field-even field"><th class=field-name>Plone:<td class=field-body>Plone-3.3.2</td>\u000a</tr>\u000a</tbody>\u000a</table>\u000a<p>\u307e\u305a\u539f\u56e0\u3067\u3059\u304c\u3001COREBlog2\u306e\u30dd\u30fc\u30c8\u30ec\u30c3\u30c8\u8868\u793a\u7528\u30ab\u30ec\u30f3\u30c0\u30fc\u306f <tt class="docutils literal"><span class=pre>skins/COREBlog2/portlet_coreblogcalendar.pt</span></tt> \u3068\u3044\u3046\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3067\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u3053\u3053\u3067\u8868\u793a\u5bfe\u8c61\u6708\u3092\u6c7a\u3081\u3066\u3044\u308b\u5909\u6570\u304c year, month \u306a\u306e\u3067\u3059\u304c\u3001\u3053\u306e\u5909\u6570\u306e\u521d\u671f\u5316\u6642\u306b <tt class="docutils literal"><span class=pre>options/year</span></tt> \u306b\u5e74\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u73fe\u5728\u306e\u65e5\u4ed8\u3092\u5143\u306b\u30ab\u30ec\u30f3\u30c0\u30fc\u8868\u793a\u3055\u308c\u3066\u3057\u307e\u3063\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002\u3053\u3053\u3067\u4f7f\u308f\u308c\u3066\u3044\u308b options \u5909\u6570\u306f  <tt class="docutils literal"><span class=pre>skins/COREBlog2/archives.py</span></tt> \u306e\u6700\u7d42\u884c\u3067 cbarchive_view.pt \u306b\u6e21\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u3053\u308c\u304c\u3069\u3046\u3084\u3089portlet\u306b\u306f\u6e21\u3063\u3066\u3053\u306a\u3044\u3088\u3046\u3067\u3059\u3002\uff08\u3069\u3053\u304b\u306b\u3053\u306e\u4ed5\u69d8\u5909\u66f4\u306b\u3064\u3044\u3066\u60c5\u5831\u304c\u306a\u3044\u304b\u63a2\u3057\u3066\u307f\u305f\u306e\u3067\u3059\u304c\u3001\u898b\u3042\u305f\u308a\u307e\u305b\u3093\u3067\u3057\u305f\uff09</p>\u000a<p>\u3053\u306e\u554f\u984c\u306e\u4fee\u6b63\u306e\u65b9\u91dd\u306f3\u3064\u3042\u308a\u307e\u3059\u3002</p>\u000a<ol class="arabic simple">\u000a<li>Plone3\u5411\u3051\u306eportlet\u3092\u66f8\u304f</li>\u000a<li>portlet_coreblogcalendar.pt \u5185\u3067options\u306b\u983c\u3089\u305a\u306byear,month\u3092\u53d6\u5f97\u3059\u308b</li>\u000a<li>archives.py \u3067request\u5909\u6570\u306byear,month\u3092\u8a2d\u5b9a\u3057\u3066\u304a\u3044\u3066portlet_coreblogcalendar.pt\u3067\u4f7f\u3046</li>\u000a</ol>\u000a<p>\u4eca\u56de\u306f2\u306e\u65b9\u6cd5\u3067\u5bfe\u5fdc\u3057\u3066\u307f\u307e\u3059\u3002</p>\u000a<div id=portlet-coreblogcalendar-pt-optionsyear-month class=section>\u000a<h2>2. portlet_coreblogcalendar.pt \u5185\u3067options\u306b\u983c\u3089\u305a\u306byear,month\u3092\u53d6\u5f97\u3059\u308b<a class=headerlink href=http://www.freia.jp/taka/blog/687/index.html#portlet-coreblogcalendar-pt-optionsyear-month title=\u3053\u306e\u30d8\u30c3\u30c9\u30e9\u30a4\u30f3\u3078\u306e\u30d1\u30fc\u30de\u30ea\u30f3\u30af>¶</a></h2>\u000a<p>\u307e\u305a\u3001 portlet_coreblogcalendar.pt \u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u30d5\u30a9\u30eb\u30c0(portal_skins/custom)\u306b\u8907\u88fd\u3057\u307e\u3059\u3002\u305d\u3057\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u4fee\u6b63\u3057\u307e\u3059:</p>\u000a<div class=highlight-python><pre> tal:define="DateTime python:modules['DateTime'].DateTime;\u000a             current python:DateTime();\u000a-            yearmonth here/getYearAndMonthToDisplay;\u000a-            year options/year | python:yearmonth[0];\u000a-            month options/month | python:yearmonth[1];\u000a+            yearmonth python:here.cbcalendar_date() or here.getYearAndMonthToDisplay();\u000a+            year python:yearmonth[0];\u000a+            month python:yearmonth[1];\u000a             prevMonthTime python:here.getPreviousMonth(month, year);\u000a             nextMonthTime python:here.getNextMonth(month, year);</pre>\u000a</div>\u000a<p>\u6b21\u306b\u3001\u4e0a\u8a18\u306e\u66f8\u304d\u63db\u3048\u3067\u547c\u3073\u51fa\u3055\u308c\u308b\u3053\u3068\u306b\u306a\u3063\u305f cbcalendar_date \u306f\u307e\u3060\u3069\u3053\u306b\u3082\u5b58\u5728\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u7528\u610f\u3057\u307e\u3059\u3002portal_skins/custom\u30d5\u30a9\u30eb\u30c0\u3067 "Script(Python)" \u3092\u65b0\u898f\u8ffd\u52a0\u3057\u3066\u3001\u540d\u524d\u3092 'cbcalendar_date' \u3068\u3057\u3066\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002</p>\u000a<div class=highlight-python><div class=highlight><pre><span class=n>request</span> <span class=o>=</span> <span class=n>container</span><span class=o>.</span><span class=n>REQUEST</span>\u000a<span class=n>sub_traverse</span> <span class=o>=</span> <span class=n>request</span><span class=o>.</span><span class=n>ACTUAL_URL</span><span class=p>[</span><span class=nb>len</span><span class=p>(</span><span class=n>request</span><span class=o>.</span><span class=n>URL</span><span class=p>):]</span><span class=o>.</span><span class=n>strip</span><span class=p>(</span><span class=s>'/'</span><span class=p>)</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s>'/'</span><span class=p>)</span>\u000a<span class=n>isArchive</span> <span class=o>=</span> <span class=n>request</span><span class=o>.</span><span class=n>URL</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s>'/'</span><span class=p>)[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>==</span> <span class=s>'archives'</span> <span class=ow>and</span> <span class=n>sub_traverse</span>\u000a\u000a<span class=k>if</span> <span class=n>isArchive</span><span class=p>:</span>\u000a    <span class=n>yearmonth</span> <span class=o>=</span> <span class=p>[</span>\u000a        <span class=nb>int</span><span class=p>(</span><span class=n>sub_traverse</span><span class=p>[</span><span class=mi>0</span><span class=p>]),</span>\u000a        <span class=nb>int</span><span class=p>(</span><span class=n>sub_traverse</span><span class=p>[</span><span class=mi>1</span><span class=p>]),</span>\u000a    <span class=p>]</span>\u000a    <span class=k>return</span> <span class=n>yearmonth</span>\u000a\u000a<span class=k>else</span><span class=p>:</span>\u000a    <span class=k>return</span> <span class=bp>None</span>\u000a</pre></div>\u000a</div>\u000a<p>\u3053\u308c\u3067\u30ab\u30ec\u30f3\u30c0\u30fc\u3092\u6b21\u6708\u3001\u524d\u6708\u306b\u9077\u79fb\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002</p>\u000a</div>\u000a</div>\u000a
p9
sS'unique_id'
p10
g7
sS'title'
p11
V2009/12/01 COREBlog2\u3092Plone3\u3067\u52d5\u304b\u3059\u305f\u3081\u306e\u4fee\u6b63: portlet\u306e\u30ab\u30ec\u30f3\u30c0\u30fc
p12
s.