(dp0
S'pubdate'
p1
cdatetime
datetime
p2
(S'\x07\xd5\x0b\x1e\x17\x02\x0c\x00\x00\x00'
p3
tp4
Rp5
sS'link'
p6
Vhttp://www.freia.jp/taka/blog/plone2-1-1306e30d530a930eb5199771f/index.html
p7
sS'description'
p8
V<div id=plone2-1-1 class=section>\u000a<h1>2005/11/30 Plone2.1.1\u306e\u30d5\u30a9\u30eb\u30c0\u3067\u5199\u771f<a class=headerlink href=http://www.freia.jp/taka/blog/plone2-1-1306e30d530a930eb5199771f/index.html#plone2-1-1 title=\u3053\u306e\u30d8\u30c3\u30c9\u30e9\u30a4\u30f3\u3078\u306e\u30d1\u30fc\u30de\u30ea\u30f3\u30af></a></h1>\u000a<p><em>Category: 'Plone'</em></p>\u000a<p>aihatena\u306e\u732b\u3092\u4e16\u8a71\u3059\u308b\u3053\u3068\u306b\u2025\u2025\u3063\u3066\u3053\u308c\u30829\u6708\u306e\u5199\u771f\u3002\u30e8\u30c9\u30d0\u30b7\u79cb\u8449\u30aa\u30fc\u30d7\u30f3\u306e\u7fcc\u65e5\u3060\u3063\u305f\u304b\u306a\u3002</p>\u000a<p>ZPhotoSlides\u3092\u6539\u826f\u3057\u3066\u4f7f\u3046\u3088\u308a\u3082Plone2.1\u7cfb\u306e\u30d5\u30a9\u30eb\u30c0\u3092\u4f7f\u3063\u305f\u65b9\u304c\u554f\u984c\u304c\u5c11\u306a\u305d\u3046\u3060\u3063\u305f\u306e\u3067\u4e57\u308a\u63db\u3048\u3066\u307f\u307e\u3057\u305f\u3002ZPhotoSlides\u304b\u3089\u4e57\u308a\u63db\u3048\u3066\u826f\u304f\u306a\u3063\u305f\u70b9\u3068\u60aa\u304f\u306a\u3063\u305f\u70b9\u304c\u3042\u308b\u3051\u3069\u3001\u6a19\u6e96\u30d5\u30a9\u30eb\u30c0\u6a5f\u80fd\u3060\u3068\u8003\u3048\u308b\u3068\u826f\u304f\u3067\u304d\u3066\u3044\u308b\u3068\u601d\u3046\u3002\u5c11\u306a\u304f\u3068\u3082\u3001\u81ea\u5206\u306e\u4f7f\u3044\u65b9\u306e\u7bc4\u56f2\u3067\u306f\u4e57\u308a\u63db\u3048\u306b\u8010\u3048\u3089\u308c\u308b\u3002</p>\u000a<div id=id1 class=section>\u000a<h2>\u826f\u304f\u306a\u3063\u305f\u70b9<a class=headerlink href=http://www.freia.jp/taka/blog/plone2-1-1306e30d530a930eb5199771f/index.html#id1 title=\u3053\u306e\u30d8\u30c3\u30c9\u30e9\u30a4\u30f3\u3078\u306e\u30d1\u30fc\u30de\u30ea\u30f3\u30af></a></h2>\u000a<ul class=simple>\u000a<li>WebDAV\u3084FTP\u3067\u4e00\u6c17\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u51fa\u6765\u308b</li>\u000a<li>\u30e1\u30e2\u30ea\u30ea\u30fc\u30af\u304c\u8d77\u304d\u306a\u3044</li>\u000a<li>Plone2.1\u306e\u4f5c\u6cd5\u3067\u4f5c\u3089\u308c\u3066\u3044\u308b\u306e\u3067\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u304c\u3057\u3084\u3059\u3044</li>\u000a</ul>\u000a</div>\u000a<div id=id2 class=section>\u000a<h2>\u60aa\u304f\u306a\u3063\u305f\u70b9<a class=headerlink href=http://www.freia.jp/taka/blog/plone2-1-1306e30d530a930eb5199771f/index.html#id2 title=\u3053\u306e\u30d8\u30c3\u30c9\u30e9\u30a4\u30f3\u3078\u306e\u30d1\u30fc\u30de\u30ea\u30f3\u30af></a></h2>\u000a<ul class=simple>\u000a<li>ZODB\u306e\u5916\u306b\u4fdd\u5b58\u3067\u304d\u306a\u3044</li>\u000a<li>\u6982\u8981\u3084\u540d\u524d\u306e\u4fee\u6b63\u3092\u4e00\u3064\u4e00\u3064\u3084\u308b\u306e\u304c\u3081\u3093\u3069\u304f\u3055\u3044(\u30d5\u30a9\u30eb\u30c0View\u304b\u3089\u306f\u51fa\u6765\u306a\u3044)</li>\u000a<li>\u591a\u304f\u306e\u6a5f\u80fd\u304c\u6e1b\u3063\u305f(\u30b9\u30e9\u30a4\u30c9\u30b7\u30e7\u30fc\u3068\u304b)\u304c\u3001\u3082\u3068\u3082\u3068\u4f7f\u308f\u306a\u3044\u306e\u3067...</li>\u000a</ul>\u000a</div>\u000a<div id=id3 class=section>\u000a<h2>\u5909\u308f\u3089\u306a\u3044\u70b9<a class=headerlink href=http://www.freia.jp/taka/blog/plone2-1-1306e30d530a930eb5199771f/index.html#id3 title=\u3053\u306e\u30d8\u30c3\u30c9\u30e9\u30a4\u30f3\u3078\u306e\u30d1\u30fc\u30de\u30ea\u30f3\u30af></a></h2>\u000a<ul class=simple>\u000a<li>\u5199\u771f\u306e\u4e26\u3073\u66ff\u3048\u304c\u5927\u5909</li>\u000a</ul>\u000a</div>\u000a<div id=atfolder class=section>\u000a<h2>ATFolder\u3067\u5199\u771f\u3001\u306e\u5148\u4eba\u306e\u65b9\u3005<a class=headerlink href=http://www.freia.jp/taka/blog/plone2-1-1306e30d530a930eb5199771f/index.html#atfolder title=\u3053\u306e\u30d8\u30c3\u30c9\u30e9\u30a4\u30f3\u3078\u306e\u30d1\u30fc\u30de\u30ea\u30f3\u30af></a></h2>\u000a<ul class=simple>\u000a<li><a class="reference external" href=http://takanory.net/takalog/374>plone 2.1 \u306e\u300c\u5199\u771f\u30a2\u30eb\u30d0\u30e0\u300d\u30d3\u30e5\u30fc\u306f\u7d50\u69cb\u3044\u3044\u304b\u3082 \u2014 takanory.net</a></li>\u000a<li><a class="reference external" href=http://coreblog.org/ats/customizing-plone-album-view>Plone 2.1\u306e\u30a2\u30eb\u30d0\u30e0\u30d3\u30e5\u30fc\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba \u2014 Central Core : coreblog.org</a></li>\u000a</ul>\u000a</div>\u000a<div id=zphotoslidesatfolder class=section>\u000a<h2>ZPhotoSlides\u304b\u3089ATFolder\u3078\u5909\u63db<a class=headerlink href=http://www.freia.jp/taka/blog/plone2-1-1306e30d530a930eb5199771f/index.html#zphotoslidesatfolder title=\u3053\u306e\u30d8\u30c3\u30c9\u30e9\u30a4\u30f3\u3078\u306e\u30d1\u30fc\u30de\u30ea\u30f3\u30af></a></h2>\u000a<p>\u4ee5\u4e0b\u306fPlone2.1.1\u4e0a\u3067ZPhotoSlides\u304b\u3089ATFolder/ATImage\u306b\u5909\u63db\u3057\u305f\u6642\u306b\u4f7f\u3063\u305f\u30b9\u30af\u30ea\u30d7\u30c8\u3002\u000a\u4e00\u5fdc\u5fc5\u8981\u305d\u3046\u306a\u30c7\u30fc\u30bf\u306f\u5909\u63db\u3067\u304d\u308b\u306f\u305a\u3002\u3067\u3082\u30d7\u30ed\u30d1\u30c6\u30a3\u30fc\u3068\u304b\u306b\u5024\u304c\u8a2d\u5b9a\u3057\u3066\u3042\u308b\u5834\u5408\u306f\u305d\u308c\u3082\u5909\u63db\u3059\u308b\u30b3\u30fc\u30c9\u3092\u8ffd\u52a0\u3057\u306a\u3044\u3068\u3044\u3051\u306a\u3044\u3002\u4f7f\u3044\u65b9\u306f\u7701\u7565\u3059\u308b\u65b9\u5411\u3067\u3002</p>\u000a<div class=highlight-python><div class=highlight><pre><span class=c>## Script (Python) "folder_converter"</span>\u000a<span class=c>##bind container=container</span>\u000a<span class=c>##bind context=context</span>\u000a<span class=c>##bind namespace=</span>\u000a<span class=c>##bind script=script</span>\u000a<span class=c>##bind subpath=traverse_subpath</span>\u000a<span class=c>##parameters=src, dest</span>\u000a<span class=c>##title=</span>\u000a\u000a<span class=n>request</span> <span class=o>=</span> <span class=n>container</span><span class=o>.</span><span class=n>REQUEST</span>\u000a\u000a<span class=k>def</span> <span class=nf>convert_image</span><span class=p>(</span><span class=n>src_obj</span><span class=p>,</span> <span class=n>dest_container</span><span class=p>):</span>\u000a    <span class=nb>id</span> <span class=o>=</span> <span class=nb>callable</span><span class=p>(</span><span class=n>src_obj</span><span class=o>.</span><span class=n>id</span><span class=p>)</span> <span class=ow>and</span> <span class=n>src_obj</span><span class=o>.</span><span class=n>id</span><span class=p>()</span> <span class=ow>or</span> <span class=n>src_obj</span><span class=o>.</span><span class=n>id</span>\u000a    <span class=n>dest_container</span><span class=o>.</span><span class=n>invokeFactory</span><span class=p>(</span><span class=n>type_name</span><span class=o>=</span><span class=s>'Image'</span><span class=p>,</span> <span class=nb>id</span><span class=o>=</span><span class=nb>id</span><span class=p>)</span>\u000a    <span class=n>obj</span> <span class=o>=</span> <span class=n>dest_container</span><span class=p>[</span><span class=nb>id</span><span class=p>]</span>\u000a\u000a    <span class=n>kwargs</span> <span class=o>=</span> <span class=p>{</span>\u000a        <span class=s>'title'</span><span class=p>:</span> <span class=n>src_obj</span><span class=o>.</span><span class=n>title</span><span class=p>,</span>\u000a        <span class=s>'content_type'</span><span class=p>:</span> <span class=n>src_obj</span><span class=o>.</span><span class=n>content_type</span><span class=p>,</span>\u000a        <span class=s>'precondition'</span><span class=p>:</span><span class=s>''</span><span class=p>,</span>\u000a        <span class=s>'filedata'</span><span class=p>:</span><span class=n>src_obj</span><span class=o>.</span><span class=n>data</span><span class=p>,</span>\u000a    <span class=p>}</span>\u000a\u000a    <span class=n>obj</span><span class=o>.</span><span class=n>manage_edit</span><span class=p>(</span><span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>\u000a    <span class=n>obj</span><span class=o>.</span><span class=n>setDescription</span><span class=p>(</span><span class=n>src_obj</span><span class=o>.</span><span class=n>description</span><span class=p>)</span>\u000a\u000a    <span class=k>print</span> <span class=nb>id</span><span class=p>,</span> <span class=s>'converted.'</span>\u000a    <span class=k>return</span> <span class=n>printed</span>\u000a\u000a<span class=k>def</span> <span class=nf>convert_atfolder</span><span class=p>(</span><span class=n>src_obj</span><span class=p>,</span> <span class=n>dest_container</span><span class=p>):</span>\u000a    <span class=nb>id</span> <span class=o>=</span> <span class=nb>callable</span><span class=p>(</span><span class=n>src_obj</span><span class=o>.</span><span class=n>id</span><span class=p>)</span> <span class=ow>and</span> <span class=n>src_obj</span><span class=o>.</span><span class=n>id</span><span class=p>()</span> <span class=ow>or</span> <span class=n>src_obj</span><span class=o>.</span><span class=n>id</span>\u000a    <span class=n>dest_container</span><span class=o>.</span><span class=n>manage_addFolder</span><span class=p>(</span><span class=nb>id</span><span class=p>,</span> <span class=n>src_obj</span><span class=o>.</span><span class=n>title</span><span class=p>)</span>\u000a    <span class=n>obj</span> <span class=o>=</span> <span class=n>dest_container</span><span class=p>[</span><span class=nb>id</span><span class=p>]</span>\u000a    <span class=k>print</span> <span class=s>"'</span><span class=si>%s</span><span class=s>'"</span> <span class=o>%</span> <span class=n>src_obj</span><span class=o>.</span><span class=n>Description</span><span class=p>(),</span>\u000a    <span class=n>obj</span><span class=o>.</span><span class=n>setDescription</span><span class=p>(</span> <span class=n>src_obj</span><span class=o>.</span><span class=n>Description</span><span class=p>()</span> <span class=p>)</span>\u000a    <span class=n>obj</span><span class=o>.</span><span class=n>indexObject</span><span class=p>()</span>\u000a    <span class=k>print</span> <span class=s>'converted.'</span>\u000a    <span class=k>print</span> <span class=n>convert_folder</span><span class=p>(</span><span class=n>src_obj</span><span class=p>,</span> <span class=n>obj</span><span class=p>)</span>\u000a    <span class=k>return</span> <span class=n>printed</span>\u000a\u000a<span class=k>def</span> <span class=nf>convert_folder</span><span class=p>(</span><span class=n>src_container</span><span class=p>,</span> <span class=n>dest_container</span><span class=p>):</span>\u000a\u000a    <span class=k>for</span> <span class=n>obj</span> <span class=ow>in</span> <span class=n>src_container</span><span class=o>.</span><span class=n>objectValues</span><span class=p>():</span>\u000a        <span class=nb>id</span> <span class=o>=</span> <span class=nb>callable</span><span class=p>(</span><span class=n>obj</span><span class=o>.</span><span class=n>id</span><span class=p>)</span> <span class=ow>and</span> <span class=n>obj</span><span class=o>.</span><span class=n>id</span><span class=p>()</span> <span class=ow>or</span> <span class=n>obj</span><span class=o>.</span><span class=n>id</span>\u000a        <span class=k>print</span> <span class=s>'converting.. '</span><span class=p>,</span> <span class=nb>id</span><span class=p>,</span> <span class=s>"(</span><span class=si>%s</span><span class=s>)"</span> <span class=o>%</span> <span class=n>obj</span><span class=o>.</span><span class=n>meta_type</span><span class=p>,</span>\u000a\u000a        <span class=k>if</span> <span class=n>obj</span><span class=o>.</span><span class=n>meta_type</span> <span class=ow>in</span> <span class=p>(</span><span class=s>'ATFolder'</span><span class=p>,):</span>\u000a            <span class=k>print</span> <span class=n>convert_atfolder</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>dest_container</span><span class=p>)</span>\u000a\u000a        <span class=k>elif</span> <span class=n>obj</span><span class=o>.</span><span class=n>meta_type</span> <span class=ow>in</span> <span class=p>(</span><span class=s>'CMF ZPhoto'</span><span class=p>,</span><span class=s>'ZPhoto'</span><span class=p>,):</span>\u000a            <span class=k>print</span> <span class=n>convert_image</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>dest_container</span><span class=p>),</span>\u000a\u000a        <span class=k>elif</span> <span class=n>obj</span><span class=o>.</span><span class=n>meta_type</span> <span class=ow>in</span> <span class=p>(</span><span class=s>'CMF ZPhotoSlides'</span><span class=p>,</span>\u000a                               <span class=s>'CMF ZPhotoSlides Folder'</span><span class=p>,</span>\u000a                               <span class=s>'ZPhotoSlides'</span><span class=p>,</span>\u000a                               <span class=s>'ZPhotoSlides Folder'</span><span class=p>,):</span>\u000a            <span class=n>dest_container</span><span class=o>.</span><span class=n>manage_addFolder</span><span class=p>(</span><span class=nb>id</span><span class=p>,</span> <span class=n>obj</span><span class=o>.</span><span class=n>title</span><span class=p>)</span>\u000a            <span class=n>sub_dest</span> <span class=o>=</span> <span class=n>dest_container</span><span class=p>[</span><span class=nb>id</span><span class=p>]</span>\u000a            <span class=n>sub_dest</span><span class=o>.</span><span class=n>setDescription</span><span class=p>(</span> <span class=n>obj</span><span class=o>.</span><span class=n>description</span> <span class=p>)</span>\u000a            <span class=n>sub_dest</span><span class=o>.</span><span class=n>indexObject</span><span class=p>()</span>\u000a            <span class=k>print</span> <span class=s>'converted.'</span>\u000a            <span class=k>print</span> <span class=n>convert_folder</span><span class=p>(</span><span class=n>obj</span><span class=p>,</span> <span class=n>sub_dest</span><span class=p>)</span>\u000a\u000a        <span class=k>else</span><span class=p>:</span> <span class=c># copy for unknown</span>\u000a            <span class=n>o</span> <span class=o>=</span> <span class=n>src_container</span><span class=o>.</span><span class=n>manage_copyObjects</span><span class=p>(</span><span class=nb>id</span><span class=p>)</span>\u000a            <span class=n>dest_container</span><span class=o>.</span><span class=n>manage_pasteObjects</span><span class=p>(</span><span class=n>o</span><span class=p>)</span>\u000a            <span class=n>dest_container</span><span class=p>[</span><span class=nb>id</span><span class=p>]</span><span class=o>.</span><span class=n>indexObject</span><span class=p>()</span>\u000a            <span class=k>print</span> <span class=s>'</span><span class=si>%s</span><span class=s> copied.'</span> <span class=o>%</span> <span class=nb>id</span>\u000a\u000a    <span class=k>return</span> <span class=n>printed</span>\u000a\u000a<span class=k>print</span> <span class=s>'make "</span><span class=si>%s</span><span class=s>"'</span> <span class=o>%</span> <span class=n>dest</span>\u000a<span class=n>src_container</span> <span class=o>=</span>  <span class=n>container</span><span class=p>[</span><span class=n>src</span><span class=p>]</span>\u000a<span class=n>container</span><span class=o>.</span><span class=n>manage_addFolder</span><span class=p>(</span><span class=n>dest</span><span class=p>)</span>\u000a<span class=n>dest_container</span> <span class=o>=</span> <span class=n>container</span><span class=p>[</span><span class=n>dest</span><span class=p>]</span>\u000a<span class=n>dest_container</span><span class=o>.</span><span class=n>setDescription</span><span class=p>(</span> <span class=n>src_container</span><span class=o>.</span><span class=n>Description</span><span class=p>()</span> <span class=p>)</span>\u000a<span class=k>print</span> <span class=n>convert_folder</span><span class=p>(</span><span class=n>src_container</span><span class=p>,</span> <span class=n>dest_container</span><span class=p>),</span>\u000a\u000a<span class=k>print</span> <span class=s>'done'</span>\u000a<span class=k>return</span> <span class=n>printed</span>\u000a</pre></div>\u000a</div>\u000a</div>\u000a</div>\u000a
p9
sS'unique_id'
p10
g7
sS'title'
p11
V2005/11/30 Plone2.1.1\u306e\u30d5\u30a9\u30eb\u30c0\u3067\u5199\u771f
p12
s.