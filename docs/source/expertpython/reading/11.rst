===================
エキPy読書会 11
===================

:日時: 2011/5/17 20:00 - 22:00
:範囲: 8章(p221～): コードの管理

エキスパートPythonプログラミングの読書会11回目。
今回はMercurialHGとBuildbotの話でした。HGと他のDVCSの比較や、BuildbotとJenkinsの対比など情報交換しました。相変わらず本を読まない読書会ですね。


質疑応答（覚えてる範囲）
========================

* Q: 大規模なリポジトリ(数百 GB とか)の clone はどうするの？
    * A: git はメモリを食い潰して落ちることもあるらしい、Mecurial は大丈夫だった？プロジェクトを目的毎に分割したりして、大規模にならないようにする戦略が良いかも？

* Q: Mercurial の複数ヘッドはどう運用するの？
    * A: git にはない仕組みで Mercurial は複数のヘッドが作成される、複数のヘッドから merge するとそれぞれの parent が見れる、hgrc の extensions を設定すると hg glog でグラフが見れる、hg serve でサーバ上でグラフが見れる

* Q: ブランチ作って、いらなくなったら削除するの？
    * A: 削除はできない、hg ci --close-branch でクローズはできる、hg branches -a でアクティブなブランチだけ見せることもできる

* Q: 質問忘れた
    * A: bootstrap 実行して、buildout して、環境構築から走らせる、環境構築するだけでテストの価値はあるよ

* Q: 質問忘れた
    * A: buildbot はコマンドを送りつけて実行する、buildout は make するのと同じ

* Q: buildbot はやっぱり難しいの？
    * A: Jenkins の用途と buildbot の用途は違う、Jenkins はもともと単一プラットフォーム/バージョンで簡単にテストするような使い方、操作のインテグレーションやビジュアルが良い、そのうち buildbot の機能も追加されるかも？buildbot は一部の人が開発してるだけだし、CUI 系の設定しかない

* Q: Plone のテストとかはどうするの？
    * A: ビルドスレーブはプラットフォーム単位で分かると良い、テストの負荷分散目的でビルドスレーブを分けるのも良い

* Q: Jenkins でプラットフォームごとのテストはできる？
    * A: ssh で接続してできそう？buildbot とは主従関係が逆？

* Q: buildbot で GUI やインタフェース系のテストはできる？
    * A: できる、Selenium で Web アプリのテストしたり、PyWinAuto でボタン押したりのテストができる、JMeter でリクエストを送ったりとか

* Q: JS のテストはできる？
    * A: JSUnitとか、Seleniumとか、いろいろあるよ

* Q: socket のテストとかはどうするの？
    * A: やったことないけど、ホワイトボックステストでソケットのダミーを立ち上げて、入出力を比べれば良い？もしくは、実際のソケット通信を記録しておいて、それを使ってテストすると、テストデータ作成の手間も省けて良さそう

参考
======

* ATND: http://atnd.org/events/15133
* Togetter: http://togetter.com/li/136981

